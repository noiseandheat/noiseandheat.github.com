
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>FlexUnit Visual Listener - Noise & Heat</title>
  <meta name="author" content="David Wagner">

  
  <meta name="description" content="Let&#8217;s face it, we all use Flash and AS3 because we like pretty eye candy.
Otherwise we&#8217;d just use a real language. In light of that, I&# &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://noiseandheat.github.com/blog/2011/07/flexunit-visual-listener/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Noise & Heat" type="application/atom+xml">
  <!-- Fonts from Google"s Web font directory at http://google.com/webfonts -->
<script type="text/javascript" src="http://use.typekit.com/ncc1ikl.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

<!-- For flattr widget -->
<script type="text/javascript">
/* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
/* ]]> */
</script>

  

</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1><a href="/"><img src="/images/logo.png" width="140" height="51" title="'Noise and Heat'" ></a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:noiseandheat.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="https://github.com/mnem">Code</a></li>
  <li><a href="https://twitter.com/kaeladan">Twitter</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">FlexUnit Visual Listener</h1>
    
    
      <p class="meta">
        











  


<time datetime="2011-07-18T16:18:00+01:00" pubdate data-updated="true">Prickle Prickle, 53 of Confusion 3177 YOLD</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Let&#8217;s face it, we all use Flash and AS3 because we like pretty eye candy.
Otherwise we&#8217;d just use a real language.</p>

<!--more-->


<p>In light of that, I&#8217;ve never been particularly happy with the standard
AS3 FlexUnit listener you get when you aren&#8217;t running inside FlashBuilder. Trace
statements are <em>so</em> last century. Also, they give me flashbacks to embedded C
programming, and I have to go and brick a firmware. I&#8217;m running out of phones.</p>

<p>So, in place of trace, I present: Green Dots (a.k.a. <a href="https://github.com/mnem/flexunit_visual_listener">FlexUnit Visual Listener</a>):</p>

<p><a href="https://github.com/mnem/flexunit_visual_listener"><img class="center" src="/images/2_0_portfolio1.png" width="630" height="420"></a></p>

<p>They&#8217;re totally contemporary, work with any dress and are a stylish addition
to every modern CI system. They even give you some useful error information
when you roll the mouse over the test result dot (which you can copy to the
clipboard by clicking. Awesome!).</p>

<p>Bonus! It&#8217;s simple to use too. Here&#8217;s an example:</p>

<figure class='code'><figcaption><span> (example_flexunitvisuallistener.as)</span> <a href='/downloads/code/example_flexunitvisuallistener.as'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='as'><span class='line'><span class="kd">package</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">noiseandheat</span><span class="p">.</span><span class="nx">flexunit</span><span class="p">.</span><span class="nx">visuallistener</span><span class="p">.</span><span class="nx">VisualListener</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">org</span><span class="p">.</span><span class="nx">flexunit</span><span class="p">.</span><span class="nx">internals</span><span class="p">.</span><span class="nx">TraceListener</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">org</span><span class="p">.</span><span class="nx">flexunit</span><span class="p">.</span><span class="nx">runner</span><span class="p">.</span><span class="nx">FlexUnitCore</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">org</span><span class="p">.</span><span class="nx">fluint</span><span class="p">.</span><span class="nx">uiImpersonation</span><span class="p">.</span><span class="nx">VisualTestEnvironmentBuilder</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">Sprite</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">StageAlign</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">StageScaleMode</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nb">Event</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="nx">SWF</span><span class="p">(</span><span class="nx">backgroundColor</span><span class="o">=</span><span class="s2">&quot;#000000&quot;</span><span class="o">,</span> <span class="nx">frameRate</span><span class="o">=</span><span class="s2">&quot;120&quot;</span><span class="o">,</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;800&quot;</span><span class="o">,</span> <span class="nx">height</span><span class="o">=</span><span class="s2">&quot;600&quot;</span><span class="p">)]</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">class</span> <span class="nx">TestRunner</span> <span class="kd">extends</span> <span class="nb">Sprite</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="kd">private</span> <span class="k">var</span> <span class="nx">core</span><span class="o">:</span><span class="nx">FlexUnitCore</span><span class="o">;</span>
</span><span class='line'>        <span class="kd">private</span> <span class="k">var</span> <span class="nx">listener</span><span class="o">:</span><span class="nx">VisualListener</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">TestRunner</span><span class="p">()</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="nx">core</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FlexUnitCore</span><span class="p">();</span>
</span><span class='line'>            <span class="nx">VisualTestEnvironmentBuilder</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="nx">listener</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VisualListener</span><span class="p">();</span>
</span><span class='line'>            <span class="nx">addChild</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">core</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Add a trace listener too if you want some trace output core.addListener(new</span>
</span><span class='line'>            <span class="nx">TraceListener</span><span class="p">(</span><span class="mi">800</span><span class="o">,</span> <span class="mi">600</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>            <span class="nx">core</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="nx">NoiseAndHeatSuite</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="nx">addEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">ADDED_TO_STAGE</span><span class="o">,</span> <span class="nx">addedToStage</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">protected</span> <span class="kd">function</span> <span class="nx">addedToStage</span><span class="p">(</span><span class="nx">event</span><span class="o">:</span><span class="nb">Event</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="nx">removeEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">ADDED_TO_STAGE</span><span class="o">,</span> <span class="nx">addedToStage</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="nx">stage</span><span class="p">.</span><span class="nx">align</span> <span class="o">=</span> <span class="nb">StageAlign</span><span class="p">.</span><span class="nx">TOP_LEFT</span><span class="o">;</span>
</span><span class='line'>            <span class="nx">stage</span><span class="p">.</span><span class="nx">scaleMode</span> <span class="o">=</span> <span class="nb">StageScaleMode</span><span class="p">.</span><span class="nx">NO_SCALE</span><span class="o">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&#8217;s similar to the normal FlexUnit runner example, but with the addition of
the VisualListener and stage tweaks.</p>

<p>Grab it while it&#8217;s hot from: <a href="https://github.com/mnem/flexunit_visual_listener">https://github.com/mnem/flexunit_visual_listener</a>.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">David Wagner</span></span>

      











  


<time datetime="2011-07-18T16:18:00+01:00" pubdate data-updated="true">Prickle Prickle, 53 of Confusion 3177 YOLD</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ci/'>CI</a>, <a class='category' href='/blog/categories/flash/'>Flash</a>, <a class='category' href='/blog/categories/flexunit/'>FlexUnit</a>, <a class='category' href='/blog/categories/open-source/'>Open Source</a>, <a class='category' href='/blog/categories/tdd/'>TDD</a>, <a class='category' href='/blog/categories/utilities/'>Utilities</a>, <a class='category' href='/blog/categories/unit-testing/'>unit testing</a>
  
</span>


    </p>
    
      <div class="sharing">
  <a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://noiseandheat.com/"></a>
  <noscript><a href="http://flattr.com/thing/453986/Noise-Heat" target="_blank">
  <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a></noscript>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/07/sparrow-framework-bitmap-fonts-and-not-having-black-text/" title="Previous Post: Sparrow Framework, Bitmap Fonts and not having black text">&laquo; Sparrow Framework, Bitmap Fonts and not having black text</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/07/lion-eats-ant-or-giving-lion-java-gui-programs-access-to-environment-variables-phew/" title="Next Post: Lion eats Ant, or giving Lion Java GUI programs access to environment variables (phew)">Lion eats Ant, or giving Lion Java GUI programs access to environment variables (phew) &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - David Wagner -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'noiseandheat';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://noiseandheat.github.com/blog/2011/07/flexunit-visual-listener/';
        var disqus_url = 'http://noiseandheat.github.com/blog/2011/07/flexunit-visual-listener/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4f2d5f2f613f5d0ae300002f');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>


</body>
</html>
